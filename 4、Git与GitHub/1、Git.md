# 版本控制

工程设计领域中使用版本控制管理工程蓝图的设计过程。在 IT 开发过程中也可以使用版本控制思想管理代码的版本迭代。

## 版本控制工具应该具备的功能

- **协同修改**：多人并行不悖的修改服务器端的同一个文件。
- **数据备份**：不仅保存目录和文件的当前状态，还能够保存每一个提交过的历史状态。
- **版本管理**： 在保存每一个版本的文件信息的时候要做到不保存重复数据，以节约存储空间，提高运行效率。这方面 SVN 采用的是增量式管理的方式，而 Git 采取了文件系统快照的方式。
- **权限控制**：对团队中参与开发的人员进行权限控制。对团队外开发者贡献的代码进行审核——Git 独有。
- **历史记录**： 查看修改人、修改时间、修改内容、日志信息。 将本地文件恢复到某一个历史状态。 
- **分支管理**：允许开发团队在工作过程中多条生产线同时推进任务，进一步提高效率。

# Git

## Git官网

https://git-scm.com/

## Git 的优势

- 大部分操作在本地完成，不需要联网 
- 完整性保证 
- 尽可能添加数据而不是删除或修改数据 
- 分支操作非常快捷流畅 
- 与 Linux 命令全面兼容

## Git结构

![说明: clipboard.png](https://gitee.com/yh-gh/img-bed/raw/master/202109181438454.gif)

## Git和代码托管中心

代码托管中心的任务：维护远程库

局域网环境下： GitLab 服务器 

外网环境下 ：1、GitHub 2、码云（Gitee）

## 本地库和远程库

### 团队内部协作

![说明: clipboard.png](https://gitee.com/yh-gh/img-bed/raw/master/202109181438843.gif)

### 跨团队协作

![说明: clipboard.png](https://gitee.com/yh-gh/img-bed/raw/master/202109181438428.gif)

# Git的概念

## 工作区（本地）

工作区就是你克隆项目到本地后，项目所在的文件夹目录

## 暂存区（本地）

用于存储工作区中添加上来的变更（新增、修改、删除）的文件的地方。操作时，使用git add .会将本地所有新增、变更、删除过的文件的情况存入暂存区中。

## 本地仓库（本地）

用于存储本地工作区和暂存区提交上来的变更（新增、修改、删除）过的文件的地方。操作时，使用`git commit –m "本次操作描述" `可以将添加到暂存区的修改的文件提交到本地仓库中。

## 远程仓库（服务器）

简单来说，就是我们工作过程中，当某一个人的开发工作完毕时，需要将自己开发的功能合并到主项目中去，但因为功能是多人开发，如果不能妥善保管好主项目中存储的代码及文件的话，将会存在丢失等情况出现，所以不能将主项目放到某一个人的本地电脑上，这时就需要有一个地方存储主项目，这个地方就是我们搭建在服务器上的git远程仓库，也就是在功能开始开发前，每个人要下载项目到本地的地方。操作时，使用`git push origin 分支名称`，将本次仓库存储的当前分支的修改推送至远程仓库中的对应分支中。

# Git命令行操作

## 一、初始化工作区

### 1、进入工作区位置

`$ cd 路径`

### 2、初始化

命令：`$ git init`

注意：`.git `目录中存放的是本地库相关的子目录和文件，不要删除，也不要胡乱修改。

### 3、查看系统文件以及隐藏文件

`$ ll -a`

## 二、在目录下创建文件（在工作区）

`touch 文件名`

## 三、查看当前文件在git中的状态

`$ git status`

## 四、将工作区文件添加到暂存区

`$ git add 文件名`

### 将暂存区文件退回工作区

`$ git rm --cached 文件名`

## 五、将暂存区的文件提交到本地仓库

`$ git commit 文件名`

`$ git commit -m "版本描述" 文件名` 

## 六、查看历史版本

`$ git log`

`$ git log --oneline`

## 七、版本切换

`$ git reset --hard 版本号`

## 设置签名

- 形式：
  - 用户名：`tom `
  - Email 地址：`goodMorning@atguigu.com`
- 作用：区分开发人员的身份，此签名，和登录远程库的账号密码没有关系
- 命令：
  - 项目级别、仓库级别：仅在当前本地库范围有效
    - `git config user.name 用户名`
    - `git config user.email 邮箱`
    - 信息保存在当前目录下的`.git`文件夹的`config`文件中，可以使用`cat .git/config`查看
  - 系统用户级别：登录当前操作系统的用户范围
    - `git config --global user.name 用户名`
    - `git config --global user.emall 邮箱`
    - 信息保存在，当前系统用户文件夹的user目录下的`.gitconfig`文件中，可以使用`cat ~/.gitconfig`查看 

#  分支

## 常见分支

- master：在达到一个节点时，将develop中的内容合并到master上，master的项目是用来发布的
- develop：开发者在这个分支上进行开发
- realease：
- feature：
- hotfix：
- test：

## 命令

### 查看分支

`$ git branch`

### 创建分支

`$ git branch 分支名 `

### 切换分支

`$ git checkout 分支名`

### 合并分支

`$ git merge 分支名`

### 删除分支

`$ git branch -d 分支名`

#  远程库相关命令

## 连接远程库

```git
git remote add origin https://gitee.com/yh-gh/test.git
```

## push到远程库

```git
git push origin master
```

## clone远程库

```git
git clone
```

## pull远程库的分支

```java
git pull origin 分支名
```





 