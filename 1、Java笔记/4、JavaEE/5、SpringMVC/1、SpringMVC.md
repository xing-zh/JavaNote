# SpringMVC

Spring Web MVC，Spring七大功能之一，就是这里springMVC框架，它主要是一种采用MVC架构模式的表现层框架

它同样跟Servlet一样，==遵循：请求-响应模式==；同样使用HTTP通讯协议，完成前后端的数据交互

# 请求-响应模式

![说明: clipboard.png](https://gitee.com/yh-gh/img-bed/raw/master/202109181333952.gif)

# Servlet存在的缺陷

1. 太过于依赖Servlet API，强制要求必须继承HTTPServlet

2. 太过于依赖tomcat容器了，这就导致开发或测试非常的麻烦

3. 太过于依赖具体的页面技术，例如：jsp

   但是Spring MVC框架完美地解决了上述的问题

# Spring MVC的优点

1. 采用MVC架构模式，以及服务到工作者的架构模式，将表现层同过多种内置组件定义得更加清晰，让页面控制器显示的更加精炼
2. Spring MVC是Spring框架的7大功能之一，天然支持Spring
3. 由于Spring MVC配置多，但更简单、独立（按需配置）
4. 代码的可重用性很高。通常Spring MVC的配置文件，几乎可以支持任何系统的配置）
5. 扩展性高。Spring MVC依旧是免费开源的产品，如果功能不够，可以修改源码

# Spring MVC的控制器

## 核心（前端）控制器

==DispatcherServlet==

- 该控制器位于整个框架的最前端，它实际上就是一个Servlet，它的作用：
  - 接收页面的请求
  - 调度请求到不同的控制器上去

## 应用控制器

- 处理映射器，视图解析器，文件上传解析器，处理适配器等等
- 这些应用控制器都是SpringMVC提供好了，不需要程序员操作
- 它们每一种都有它们的自己的责任：
  - 处理映射器： 完成页面请求与页面控制器之间的映射关系，相当于@WebServlet所干的事情
  - 视图解析器： 完成后端的返回视图名称到具体视图资源的解析任务
  - 文件上传解析器： 完成文件上传的任务
  - 处理适配器： 完成页面请求到页面控制器之间的适配关系
- Spring MVC框架，除了采用MVC架构以外，还采用：服务到工作者模式，即请求到达该框架后的每一步，都有一个Controller在完成对应的任务

## 页面控制器

请求都是来自于页面，页面控制器就是专门用来处理页面请求的控制器（需要程序员自己写）

# Spring MVC的详细架构图

![说明: clipboard.png](https://gitee.com/yh-gh/img-bed/raw/master/202109181333670.gif)

1. 前端发起HTTP请求，到达核心控制器去
2. 核心控制器将请求转发到处理映射器上去，问询映射关系（有就返回关系，没有就返回404）
3. 核心控制器就将请求转发到处理适配器上去，去做适配工作
4. 适配完毕之后，请求将会转发到页面控制器上去，处理业务流程，并返回ModelAndView
5. 响应到达核心控制器上，由核心控制器将ModelAndView中的viewName交给视图解析器让它去解析成真正的视图资源
6. 核心控制器将Model数据，向真正的视图资源去填充，渲染
7. 核心控制器将渲染后的视图，返回给前端进行展示

# SpringMVC启动过程

1、进入web.xml文件，读取创建核心控制器Servlet，以及获取Spring配置文件路径

2、读取Spring的配置文件，按照注解或bean标签方式创建bean对象，并且完成注入

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 